{% extends "base.html" %}
{% block content %}
<div class="container">
  <h2>ã†ã¥ãã¡ã‚ƒã‚“ã®æ—¥è¨˜</h2>

  <!-- ãƒœã‚¿ãƒ³ã‚¨ãƒªã‚¢ -->
  <div class="button-group">
    <a href="{{ url_for('new_diary') }}" class="button">ğŸ“ æ—¥è¨˜ã‚’æ›¸ã</a>
    <a href="{{ url_for('index') }}" class="button">ğŸ  ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</a>
  </div>

  <!-- æ—¥è¨˜ã‚«ãƒ¼ãƒ‰è¡¨ç¤º -->
  {% for entry in entries %}
    <div class="card">
      <div class="card-header">
        <div class="card-date">{{ entry['date'] }}</div>
        <h3><a href="{{ url_for('diary_entry', entry_id=entry['id']) }}" class="entry-title">{{ entry['title'] }}</a></h3>
      </div>

      {% if entry['image_url'] %}
        <img src="{{ entry['image_url'] }}" alt="æ—¥è¨˜ç”»åƒ" class="card-img">
      {% endif %}

      <p>{{ entry['content'][:100] }}{% if entry['content']|length > 100 %}...{% endif %}</p>

      <div class="card-actions">
        <a href="{{ url_for('edit_diary', entry_id=entry['id']) }}" class="button small">âœï¸ ç·¨é›†</a>
        <form action="{{ url_for('delete_diary', entry_id=entry['id']) }}" method="POST" style="display:inline;">
          <button type="submit" onclick="return confirm('æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')" class="button small danger">ğŸ—‘ï¸ å‰Šé™¤</button>
        </form>
      </div>
    </div>
  {% endfor %}
</div>
{% endblock %}
